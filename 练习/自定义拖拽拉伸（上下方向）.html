<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>lashen</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			.wrap{
				width: 300px;
				height: 800px;
				margin: 20px auto;
				box-sizing: border-box;
				border: 1px solid #333;
			}
			.top{
				width: 100%;
				height: 500px;
				overflow: hidden;
			}
			.down{
				position: relative;
				width: 100%;
				height: 300px;
				background: pink;
			}
			.down i{
				position: absolute;
				top: -5px;
				left: 45%;
				width: 30px;
				height: 10px;
				background: peru;
				cursor: pointer;
			}
			li{
				list-style: none;
				width: 100%;
				height: 100px;
				line-height: 100px;
				text-align: center;
			}
			li:nth-child(2n+1){
				background: silver;
			}
			li:nth-child(2n){
				background: burlywood;
			}
		</style>
	</head>
	<body>
		<div class="wrap">
			<div class="top">
				<ul>
					<li>1</li>
					<li>1</li>
					<li>1</li>
					<li>1</li>
					<li>1</li>
					<li>1</li>
					<li>1</li>
					<li>1</li>
				</ul>
				
			</div>
			<div class="down"><i></i></div>	
		</div>
		
		
		
		<script type="text/javascript">
			var wrap = document.getElementsByClassName("wrap")[0];
			var topBox = document.getElementsByClassName("top")[0];
			var downBox = document.getElementsByClassName("down")[0];
			var crux = downBox.getElementsByTagName("i")[0];
			
//			var maxH = wrap.offsetHeight;
//			var topH = topBox.offsetHeight;
//			var downH = downBox.offsetHeight;
//			
//			console.log(maxH)
//			crux.onmousedown = function(ev){
//				ev = ev||window.event;
//				topH = topBox.offsetHeight;
//				var t = ev.pageY;
//				document.onmousemove = function(ev2){
//					ev2 = ev2||window.event;
//					var newT = ev2.pageY -t+topH;
//					var newD = maxH - newT;
//					
//					if(newT<=100){
//						newT =100;
//						newD = maxH - 100;
//					}
//					if(newT>=700){
//						newT =700;
//						newD = maxH - 700;
//					}
//					topBox.style.height = newT + "px";
//					downBox.style.height = newD + "px";
//				}
//				document.onmouseup = function(){
//					document.onmousemove = null;
//					document.onmouseup = null;
//				}
//				return false;
//			}
			
			
			screens(wrap,topBox,downBox,crux,500,100);
			function screens(warp,topObj,downObj,crux,maxH,minH){
				var allH = warp.offsetHeight;
				var topH = topObj.offsetHeight;
				crux.onmousedown = function(ev){
					ev = ev||window.event;
					topH = topObj.offsetHeight;
					var t = ev.pageY;
					document.onmousemove = function(ev2){
						ev2 = ev2||window.event;
						var newT = ev2.pageY - t +topH;
						var newD = allH - newT;
						if(maxH){
							if(newT>=maxH){
								newT = maxH;
								newD = allH - maxH;
							}
						}
						if(minH){
							if(newT<=minH){
								newT = minH;
								newD = allH - minH;
							}
						}
						if(!maxH&&!minH){
							if(newT<=0){
								newT = 0;
								newD = allH;
							}
							if(newT>=allH){
								newT = allH;
								newD = 0;
							}
						}
						topObj.style.height = newT + "px";
						downObj.style.height = newD + "px";
					}
					document.onmouseup = function(){
						document.onmousemove = null;
						document.onmouseup = null;
					}
					return false;
				}
			}
			
			
			
		</script>
	</body>
</html>
