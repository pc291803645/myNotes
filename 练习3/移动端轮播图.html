<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1" />
		<script src="js/zepto.js" type="text/javascript" charset="utf-8"></script>
		<title></title>
	</head>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		.wrap{
			width: 100%;
			max-width: 1024px;
			min-width: 320px;
			margin: 0 auto;
			overflow: hidden;
		}
		.box{
			width: 16rem;
			height: 10rem;
			box-sizing: border-box;
			overflow: hidden;
			position: relative;
		}
		ul{
			width: 48rem;
			height: 10rem;
			position: absolute;
			top: 0;
			left: 0;
		}
		li{
			list-style: none;
			float: left;
			width: 16rem;
			height: 10rem;
		}
		li>img{
			width: 100%;
			height: 100%;
		}
		.part1{
			width: 100%;
			height: 10rem;
			margin: 0 auto;
			background: salmon;
		}
		.part1 span{
			display: inline-block;
			width: 3rem;
			height: 3rem;
		}
		.part1 img{
			width: 100%;
			height: 100%;
		}
	</style>
	
	<body>
		<script type="text/javascript">
			size();
			window.onload=window.onresize = function(){
				size();
			}
			function size(){
				var iW = document.getElementsByTagName("html")[0].clientWidth;
				var size = iW/16;
				var html = document.getElementsByTagName("html")[0];
				html.style.fontSize = size+"px";
			}
		</script>
		<div class="wrap">
			<div class="box">
				<ul class="list">
					<li><img src="img/573c3c0618a81.jpg"/></li>
					<li><img src="img/8207927667716110881.jpg"/></li>
					<li><img src="img/img.png"/></li>
				</ul>
			</div>
			<div class="part1">
				<span><img src="img/bookIco.png"/></span>
			</div>
		</div>
		
		
		<script type="text/javascript">
			var box = document.querySelector(".box");
			var list = document.querySelector(".list");
			var iW = window.innerWidth;
			var lis = list.querySelectorAll("li");
			setWidth();
			var start = 0;
			var now = 0;
			var translateX = 0;
			var part1 = document.querySelector(".part1");
			var spans = part1.querySelectorAll("span");
//			console.log(part1)
			
			list.addEventListener("touchstart",function(ev){
				start = ev.changedTouches[0].pageX;
				list.style.transition = "none";
				if(list.offsetLeft == 0){
					list.style.left = -(lis.length)*iW+"px";
				}
				if(list.offsetLeft == -iW*5){
					list.style.left = -(lis.length-1)*iW+"px";
				}
				translateX = list.offsetLeft;
				console.log(list.offsetLeft)
			})
			list.addEventListener("touchmove",function(ev){
				now = ev.changedTouches[0].pageX;
				var dis = now-start+translateX;
				list.style.left = dis+"px"
			})
			list.addEventListener("touchend",function(ev){
				var num = Math.round(list.offsetLeft/iW);
				list.style.transition = ".5s";
				list.style.left = num*iW+"px";
			})
			
			function setWidth(){
				list.innerHTML += list.innerHTML;
				list.style.width = 2*lis.length*iW+'px';
				for(var i=0;i<lis.length;i++){
					lis[i].style.width = iW+"px";
				}
			}
//			spans[0].addEventListener("touchstart",function(){
//				window.location.href = "https://www.baidu.com";
//			})
			
			$(spans[0]).on("touchstart",function(){
				window.location.href = "https://www.baidu.com";
			})
		</script>
	</body>
</html>
