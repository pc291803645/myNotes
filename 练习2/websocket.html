<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>websocket</title>
	</head>

	<body>
		
		
		
		<script type="text/javascript">
			window.onload = function() {
				
				var ws = new WebSocket("wss://echo.websocket.org");

				ws.onopen = function(evt) {
					console.log("Connection open ...");
					ws.send("您好");
				};

				ws.onmessage = function(evt) {
					console.log("Received Message: " + evt.data);
					ws.close();
				};

				ws.onclose = function(evt) {
					console.log("Connection closed.");
				};
			}
			
			
			/**
			 *  binaryType	   	一个字符串表示被传输二进制的内容的类型。取值应当是"blob"或者"arraybuffer"。
								"blob"表示使用DOMBlob 对象，而"arraybuffer"表示使用 ArrayBuffer 对象。
							
				bufferedAmount	调用 send() 方法将多字节数据加入到队列中等待传输，但是还未发出。该值会在所有队列
								数据被发送后重置为 0。而当连接关闭时不会设为0。如果持续调用send()，这个值会持续增长。只读。
				
				extensions		服务器选定的扩展。目前这个属性只是一个空字符串，或者是一个包含所有扩展的列表。
				
				onclose	   		用于监听连接关闭事件监听器。当 WebSocket 对象的readyState 状态变为 CLOSED 时会触发该事件。
								这个监听器会接收一个叫close的 CloseEvent 对象。
				
				onerror			当错误发生时用于监听error事件的事件监听器。会接受一个名为“error”的event对象。
				
				onmessage		一个用于消息事件的事件监听器，这一事件当有消息到达的时候该事件会触发。这个Listener会被传入一个名
								为"message"的 MessageEvent 对象。
				
				onopen			一个用于连接打开事件的事件监听器。当readyState的值变为 OPEN 的时候会触发该事件。
								该事件表明这个连接已经准备好接受和发送数据。这个监听器会接受一个名为"open"的事件对象。
				
				protocol		一个表明服务器选定的子协议名字的字符串。这个属性的取值会被取值为构造器传入的protocols参数。
				
				readyState		short	连接的当前状态。取值是 Ready state constants之一。 只读。
				
				url				传入构造器的URL。它必须是一个绝对地址的URL。只读。
			 * 
			 */
		</script>
	</body>

</html>